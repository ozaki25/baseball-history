
> baseball-history@0.1.0 test
> vitest --run


 RUN  v3.2.4 /Users/ozaki/app/baseball-history

 â¯ src/tests/parsers/homeVisitorDetector.test.ts (4 tests | 4 failed) 4ms
   Ã— homeVisitorDetector > detectHomeVisitor > ãƒ›ãƒ¼ãƒ çƒå ´ã§ãƒ•ã‚¡ã‚¤ã‚¿ãƒ¼ã‚ºãŒ0ç•ªç›®ã®å ´åˆ 3ms
     â†’ (0 , detectMyTeamPosition) is not a function
   Ã— homeVisitorDetector > detectHomeVisitor > ãƒ“ã‚¸ã‚¿ãƒ¼çƒå ´ã§ãƒ•ã‚¡ã‚¤ã‚¿ãƒ¼ã‚ºãŒ1ç•ªç›®ã®å ´åˆ 0ms
     â†’ (0 , detectMyTeamPosition) is not a function
   Ã— homeVisitorDetector > isHomeGame > ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ›ãƒ¼ãƒ åˆ¤å®šã‚’è¿”ã™ 0ms
     â†’ (0 , detectMyTeamPosition) is not a function
   Ã— homeVisitorDetector > isHomeGame > ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ“ã‚¸ã‚¿ãƒ¼åˆ¤å®šã‚’è¿”ã™ 0ms
     â†’ (0 , detectMyTeamPosition) is not a function
 âœ“ src/tests/parsers/homeDetector.test.ts (4 tests) 22ms
 âœ“ src/tests/parsers/teamExtractor.test.ts (6 tests) 25ms
 âœ“ src/tests/parsers/scoreExtractor.test.ts (7 tests) 29ms
stdout | src/tests/parsers/gameParser.integration.test.ts > gameParser integration tests > parseGameHTML with real HTML patterns > ãƒ›ãƒ¼ãƒ ã‚²ãƒ¼ãƒ å‹åˆ©ï¼ˆã‚µãƒ¨ãƒŠãƒ©å‹ã¡ï¼‰ã‚’æ­£ã—ãè§£æ
è©¦åˆHTMLè§£æã‚’é–‹å§‹...
è©¦åˆHTMLè§£æå®Œäº†: {
  opponent: [32m'åƒè‘‰ãƒ­ãƒƒãƒ†'[39m,
  myScore: [33m6[39m,
  vsScore: [33m5[39m,
  location: [32m'ã‚¨ã‚¹ã‚³ãƒ³ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰'[39m,
  isHomeGame: [33mtrue[39m,
  result: [32m'win'[39m
}
  ãƒ›ãƒ¼ãƒ /ãƒ“ã‚¸ã‚¿ãƒ¼: ãƒ›ãƒ¼ãƒ 
  è©¦åˆçµæœ: win

 â¯ src/tests/parsers/venueExtractor.test.ts (7 tests | 2 failed) 46ms
   âœ“ venueExtractor > extractGameVenue > æ­£å¸¸ãªHTMLã‹ã‚‰ä¼šå ´åã‚’æŠ½å‡º 9ms
   âœ“ venueExtractor > extractGameVenue > ã‚¨ã‚¹ã‚³ãƒ³ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å ´åˆ 4ms
   âœ“ venueExtractor > extractGameVenue > ãƒ“ã‚¸ã‚¿ãƒ¼çƒå ´ã®å ´åˆ 9ms
   Ã— venueExtractor > extractGameVenue > ä¼šå ´è¦ç´ ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã¯ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹ 7ms
     â†’ expected [Function] to throw error including 'game-vs__textè¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ' but got 'ä¼šå ´è¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“'
   âœ“ venueExtractor > extractVenueLocationInfo > æœ­å¹Œãƒ‰ãƒ¼ãƒ ã¯ãƒ›ãƒ¼ãƒ çƒå ´ã¨ã—ã¦æ¤œå‡º 4ms
   Ã— venueExtractor > extractVenueLocationInfo > ã‚¨ã‚¹ã‚³ãƒ³ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ãƒ›ãƒ¼ãƒ çƒå ´ã¨ã—ã¦æ¤œå‡º 8ms
     â†’ expected 'high' to be 'medium' // Object.is equality
   âœ“ venueExtractor > extractVenueLocationInfo > ä»–ã®çƒå ´ã¯ãƒ“ã‚¸ã‚¿ãƒ¼çƒå ´ã¨ã—ã¦æ¤œå‡º 4ms
stdout | src/tests/parsers/gameParser.integration.test.ts > gameParser integration tests > parseGameHTML with real HTML patterns > ãƒ›ãƒ¼ãƒ ã‚²ãƒ¼ãƒ æ•—æˆ¦ã‚’æ­£ã—ãè§£æ
è©¦åˆHTMLè§£æã‚’é–‹å§‹...
è©¦åˆHTMLè§£æå®Œäº†: {
  opponent: [32m'åƒè‘‰ãƒ­ãƒƒãƒ†'[39m,
  myScore: [33m4[39m,
  vsScore: [33m8[39m,
  location: [32m'ã‚¨ã‚¹ã‚³ãƒ³ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰'[39m,
  isHomeGame: [33mtrue[39m,
  result: [32m'lose'[39m
}
  ãƒ›ãƒ¼ãƒ /ãƒ“ã‚¸ã‚¿ãƒ¼: ãƒ›ãƒ¼ãƒ 
  è©¦åˆçµæœ: lose

stdout | src/tests/parsers/gameParser.integration.test.ts > gameParser integration tests > parseGameHTML with real HTML patterns > ãƒ“ã‚¸ã‚¿ãƒ¼ã‚²ãƒ¼ãƒ å‹åˆ©ã‚’æ­£ã—ãè§£æ
è©¦åˆHTMLè§£æã‚’é–‹å§‹...
è©¦åˆHTMLè§£æå®Œäº†: {
  opponent: [32m'ã‚ªãƒªãƒƒã‚¯ã‚¹'[39m,
  myScore: [33m7[39m,
  vsScore: [33m3[39m,
  location: [32m'äº¬ã‚»ãƒ©ãƒ‰ãƒ¼ãƒ å¤§é˜ª'[39m,
  isHomeGame: [33mfalse[39m,
  result: [32m'win'[39m
}
  ãƒ›ãƒ¼ãƒ /ãƒ“ã‚¸ã‚¿ãƒ¼: ãƒ“ã‚¸ã‚¿ãƒ¼
  è©¦åˆçµæœ: win

stdout | src/tests/parsers/gameParser.integration.test.ts > gameParser integration tests > parseGameHTML with real HTML patterns > ãƒ“ã‚¸ã‚¿ãƒ¼ã‚²ãƒ¼ãƒ å¼•ãåˆ†ã‘ã‚’æ­£ã—ãè§£æ
è©¦åˆHTMLè§£æã‚’é–‹å§‹...
è©¦åˆHTMLè§£æå®Œäº†: {
  opponent: [32m'åƒè‘‰ãƒ­ãƒƒãƒ†'[39m,
  myScore: [33m2[39m,
  vsScore: [33m2[39m,
  location: [32m'ZOZOãƒãƒªãƒ³ã‚¹ã‚¿ã‚¸ã‚¢ãƒ '[39m,
  isHomeGame: [33mfalse[39m,
  result: [32m'draw'[39m
}
  ãƒ›ãƒ¼ãƒ /ãƒ“ã‚¸ã‚¿ãƒ¼: ãƒ“ã‚¸ã‚¿ãƒ¼
  è©¦åˆçµæœ: draw

stdout | src/tests/parsers/gameParser.integration.test.ts > gameParser integration tests > edge cases and error handling > ä¸å®Œå…¨ãªHTMLã§ã‚¨ãƒ©ãƒ¼ã‚’é©åˆ‡ã«æŠ•ã’ã‚‹
è©¦åˆHTMLè§£æã‚’é–‹å§‹...

stdout | src/tests/parsers/gameParser.integration.test.ts > gameParser integration tests > edge cases and error handling > ãƒãƒ¼ãƒ åãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹
è©¦åˆHTMLè§£æã‚’é–‹å§‹...

 â¯ src/tests/parsers/gameParser.integration.test.ts (6 tests | 3 failed) 117ms
   âœ“ gameParser integration tests > parseGameHTML with real HTML patterns > ãƒ›ãƒ¼ãƒ ã‚²ãƒ¼ãƒ å‹åˆ©ï¼ˆã‚µãƒ¨ãƒŠãƒ©å‹ã¡ï¼‰ã‚’æ­£ã—ãè§£æ 41ms
   Ã— gameParser integration tests > parseGameHTML with real HTML patterns > ãƒ›ãƒ¼ãƒ ã‚²ãƒ¼ãƒ æ•—æˆ¦ã‚’æ­£ã—ãè§£æ 28ms
     â†’ expected 'åƒè‘‰ãƒ­ãƒƒãƒ†' to be 'æ¥½å¤©ã‚¤ãƒ¼ã‚°ãƒ«ã‚¹' // Object.is equality
   Ã— gameParser integration tests > parseGameHTML with real HTML patterns > ãƒ“ã‚¸ã‚¿ãƒ¼ã‚²ãƒ¼ãƒ å‹åˆ©ã‚’æ­£ã—ãè§£æ 20ms
     â†’ expected 7 to be 8 // Object.is equality
   Ã— gameParser integration tests > parseGameHTML with real HTML patterns > ãƒ“ã‚¸ã‚¿ãƒ¼ã‚²ãƒ¼ãƒ å¼•ãåˆ†ã‘ã‚’æ­£ã—ãè§£æ 23ms
     â†’ expected 'åƒè‘‰ãƒ­ãƒƒãƒ†' to be 'ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯' // Object.is equality
   âœ“ gameParser integration tests > edge cases and error handling > ä¸å®Œå…¨ãªHTMLã§ã‚¨ãƒ©ãƒ¼ã‚’é©åˆ‡ã«æŠ•ã’ã‚‹ 3ms
   âœ“ gameParser integration tests > edge cases and error handling > ãƒãƒ¼ãƒ åãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹ 2ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 9 â¯â¯â¯â¯â¯â¯â¯

 FAIL  src/tests/parsers/gameParser.integration.test.ts > gameParser integration tests > parseGameHTML with real HTML patterns > ãƒ›ãƒ¼ãƒ ã‚²ãƒ¼ãƒ æ•—æˆ¦ã‚’æ­£ã—ãè§£æ
AssertionError: expected 'åƒè‘‰ãƒ­ãƒƒãƒ†' to be 'æ¥½å¤©ã‚¤ãƒ¼ã‚°ãƒ«ã‚¹' // Object.is equality

Expected: [32m"æ¥½å¤©ã‚¤ãƒ¼ã‚°ãƒ«ã‚¹"[39m
Received: [31m"åƒè‘‰ãƒ­ãƒƒãƒ†"[39m

 â¯ src/tests/parsers/gameParser.integration.test.ts:30:31
     28|       const result = parseGameHTML(html);
     29| 
     30|       expect(result.opponent).toBe('æ¥½å¤©ã‚¤ãƒ¼ã‚°ãƒ«ã‚¹');
       |                               ^
     31|       expect(result.myScore).toBe(2); // ãƒ•ã‚¡ã‚¤ã‚¿ãƒ¼ã‚º2ç‚¹
     32|       expect(result.vsScore).toBe(7); // ç›¸æ‰‹7ç‚¹

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/9]â¯

 FAIL  src/tests/parsers/gameParser.integration.test.ts > gameParser integration tests > parseGameHTML with real HTML patterns > ãƒ“ã‚¸ã‚¿ãƒ¼ã‚²ãƒ¼ãƒ å‹åˆ©ã‚’æ­£ã—ãè§£æ
AssertionError: expected 7 to be 8 // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- 8[39m
[31m+ 7[39m

 â¯ src/tests/parsers/gameParser.integration.test.ts:43:30
     41| 
     42|       expect(result.opponent).toBe('ã‚ªãƒªãƒƒã‚¯ã‚¹');
     43|       expect(result.myScore).toBe(8); // ãƒ•ã‚¡ã‚¤ã‚¿ãƒ¼ã‚º8ç‚¹ï¼ˆãƒ“ã‚¸ã‚¿ãƒ¼ï¼‰
       |                              ^
     44|       expect(result.vsScore).toBe(3); // ç›¸æ‰‹3ç‚¹
     45|       expect(result.location).toBe('äº¬ã‚»ãƒ©ãƒ‰ãƒ¼ãƒ å¤§é˜ª');

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/9]â¯

 FAIL  src/tests/parsers/gameParser.integration.test.ts > gameParser integration tests > parseGameHTML with real HTML patterns > ãƒ“ã‚¸ã‚¿ãƒ¼ã‚²ãƒ¼ãƒ å¼•ãåˆ†ã‘ã‚’æ­£ã—ãè§£æ
AssertionError: expected 'åƒè‘‰ãƒ­ãƒƒãƒ†' to be 'ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯' // Object.is equality

Expected: [32m"ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯"[39m
Received: [31m"åƒè‘‰ãƒ­ãƒƒãƒ†"[39m

 â¯ src/tests/parsers/gameParser.integration.test.ts:54:31
     52|       const result = parseGameHTML(html);
     53| 
     54|       expect(result.opponent).toBe('ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯');
       |                               ^
     55|       expect(result.myScore).toBe(4); // ãƒ•ã‚¡ã‚¤ã‚¿ãƒ¼ã‚º4ç‚¹ï¼ˆãƒ“ã‚¸ã‚¿ãƒ¼ï¼‰
     56|       expect(result.vsScore).toBe(4); // ç›¸æ‰‹4ç‚¹

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/9]â¯

 FAIL  src/tests/parsers/homeVisitorDetector.test.ts > homeVisitorDetector > detectHomeVisitor > ãƒ›ãƒ¼ãƒ çƒå ´ã§ãƒ•ã‚¡ã‚¤ã‚¿ãƒ¼ã‚ºãŒ0ç•ªç›®ã®å ´åˆ
TypeError: (0 , detectMyTeamPosition) is not a function
 â¯ detectHomeVisitor src/lib/parsers/homeVisitorDetector.ts:13:20
     11|  */
     12| export function detectHomeVisitor(html: string): HomeVisitorResult {
     13|   const teamInfo = detectMyTeamPosition(html);
       |                    ^
     14| 
     15|   return {
 â¯ src/tests/parsers/homeVisitorDetector.test.ts:19:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/9]â¯

 FAIL  src/tests/parsers/homeVisitorDetector.test.ts > homeVisitorDetector > detectHomeVisitor > ãƒ“ã‚¸ã‚¿ãƒ¼çƒå ´ã§ãƒ•ã‚¡ã‚¤ã‚¿ãƒ¼ã‚ºãŒ1ç•ªç›®ã®å ´åˆ
TypeError: (0 , detectMyTeamPosition) is not a function
 â¯ detectHomeVisitor src/lib/parsers/homeVisitorDetector.ts:13:20
     11|  */
     12| export function detectHomeVisitor(html: string): HomeVisitorResult {
     13|   const teamInfo = detectMyTeamPosition(html);
       |                    ^
     14| 
     15|   return {
 â¯ src/tests/parsers/homeVisitorDetector.test.ts:38:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/9]â¯

 FAIL  src/tests/parsers/homeVisitorDetector.test.ts > homeVisitorDetector > isHomeGame > ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ›ãƒ¼ãƒ åˆ¤å®šã‚’è¿”ã™
TypeError: (0 , detectMyTeamPosition) is not a function
 â¯ isHomeGame src/lib/parsers/homeVisitorDetector.ts:26:20
     24|  */
     25| export function isHomeGame(html: string): boolean {
     26|   const teamInfo = detectMyTeamPosition(html);
       |                    ^
     27|   return teamInfo.isHome;
     28| }
 â¯ src/tests/parsers/homeVisitorDetector.test.ts:57:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/9]â¯

 FAIL  src/tests/parsers/homeVisitorDetector.test.ts > homeVisitorDetector > isHomeGame > ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ“ã‚¸ã‚¿ãƒ¼åˆ¤å®šã‚’è¿”ã™
TypeError: (0 , detectMyTeamPosition) is not a function
 â¯ isHomeGame src/lib/parsers/homeVisitorDetector.ts:26:20
     24|  */
     25| export function isHomeGame(html: string): boolean {
     26|   const teamInfo = detectMyTeamPosition(html);
       |                    ^
     27|   return teamInfo.isHome;
     28| }
 â¯ src/tests/parsers/homeVisitorDetector.test.ts:72:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/9]â¯

 FAIL  src/tests/parsers/venueExtractor.test.ts > venueExtractor > extractGameVenue > ä¼šå ´è¦ç´ ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã¯ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹
AssertionError: expected [Function] to throw error including 'game-vs__textè¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ' but got 'ä¼šå ´è¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“'

Expected: [32m"[7mgame-vs__text[27mè¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“[7mã§ã—ãŸ[27m"[39m
Received: [31m"[7mä¼šå ´[27mè¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"[39m

 â¯ src/tests/parsers/venueExtractor.test.ts:36:44
     34|       const html = '<div>No venue elements</div>';
     35| 
     36|       expect(() => extractGameVenue(html)).toThrow('game-vs__textè¦ç´ ãŒè¦‹ã¤â€¦
       |                                            ^
     37|     });
     38|   });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/9]â¯

 FAIL  src/tests/parsers/venueExtractor.test.ts > venueExtractor > extractVenueLocationInfo > ã‚¨ã‚¹ã‚³ãƒ³ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ãƒ›ãƒ¼ãƒ çƒå ´ã¨ã—ã¦æ¤œå‡º
AssertionError: expected 'high' to be 'medium' // Object.is equality

Expected: [32m"medium"[39m
Received: [31m"high"[39m

 â¯ src/tests/parsers/venueExtractor.test.ts:60:38
     58|       expect(result.venue).toBe('ã‚¨ã‚¹ã‚³ãƒ³ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰');
     59|       expect(result.isHomeVenue).toBe(true);
     60|       expect(result.confidenceLevel).toBe('medium');
       |                                      ^
     61|     });
     62| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/9]â¯


 Test Files  3 failed | 3 passed (6)
      Tests  9 failed | 25 passed (34)
   Start at  16:55:25
   Duration  681ms (transform 249ms, setup 0ms, collect 352ms, tests 244ms, environment 1.94s, prepare 254ms)

